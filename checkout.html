<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Ramla Design</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./checkout-style.css">
    <style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Cormorant Garamond', serif !important;
}

body {
    overflow-x: hidden;
    background-color: #000;
}

.background-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    z-index: 0;
    background-color: #d3b18b;
}

.main-content {
    position: relative;
    z-index: 10;
    min-height: 100vh;
}

/* النافبار */
.navbar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    padding: 30px 5%;
    z-index: 1000;
    display: flex;
    justify-content: center;
    align-items: center;
}

.back-btn {
    position: absolute;
    left: 5%;
    display: flex;
    align-items: center;
    gap: 8px;
    color: #3d2f1f;
    text-decoration: none;
    font-size: 16px;
    font-weight: 600;
    letter-spacing: 1px;
    transition: all 0.3s ease;
}

.back-btn:hover {
    gap: 12px;
    color: #2d1f0f;
}

.back-btn svg {
    transition: transform 0.3s ease;
}

.back-btn:hover svg {
    transform: translateX(5px);
}

html[dir="ltr"] .back-btn:hover svg {
    transform: translateX(-5px);
}

.logo-container {
    width: 150px;
}

.logo-container img {
    width: 100%;
    height: auto;
}

/* محتوى الصفحة */
.checkout-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 140px 5% 80px;
}

.page-title {
    font-size: 48px;
    font-weight: 700;
    color: #2d1f0f;
    text-align: center;
    margin-bottom: 60px;
    text-transform: uppercase;
    letter-spacing: 5px;
}

.checkout-layout {
    display: grid;
    grid-template-columns: 1.5fr 1fr;
    gap: 40px;
}

.checkout-section {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 15px;
    padding: 40px;
    position: relative;
}

.checkout-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 50px;
    height: 50px;
    border-top: 3px solid #8b6f47;
    border-left: 3px solid #8b6f47;
    border-radius: 15px 0 0 0;
}

.checkout-section::after {
    content: '';
    position: absolute;
    bottom: 0;
    right: 0;
    width: 50px;
    height: 50px;
    border-bottom: 3px solid #8b6f47;
    border-right: 3px solid #8b6f47;
    border-radius: 0 0 15px 0;
}

.section-title {
    font-size: 28px;
    font-weight: 700;
    color: #2d1f0f;
    margin-bottom: 30px;
    text-transform: uppercase;
    letter-spacing: 2px;
}

/* النموذج */
.checkout-form {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.form-group label {
    font-size: 16px;
    font-weight: 600;
    color: #2d1f0f;
}

.form-group input,
.form-group textarea {
    padding: 14px 18px;
    font-size: 16px;
    color: #2d1f0f;
    background: rgba(255, 255, 255, 0.5);
    border: 2px solid #8b6f47;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.form-group input:focus,
.form-group textarea:focus {
    outline: none;
    border-color: #2d1f0f;
    background: rgba(255, 255, 255, 0.7);
}

.form-group textarea {
    resize: vertical;
    min-height: 80px;
}

.submit-btn {
    width: 100%;
    padding: 18px 40px;
    font-size: 20px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 3px;
    color: #d3b18b;
    background: #2d1f0f;
    border: 3px solid #2d1f0f;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 10px;
}

.submit-btn:hover {
    background: transparent;
    color: #2d1f0f;
    transform: translateY(-3px);
}

/* ملخص الطلب */
.order-summary {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.empty-order {
    text-align: center;
    padding: 40px 20px;
    font-size: 18px;
    color: #3d2f1f;
}

.order-item {
    display: flex;
    gap: 15px;
    padding: 20px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 10px;
}

.order-item-image {
    width: 80px;
    height: 80px;
    flex-shrink: 0;
    display: flex;
    justify-content: center;
    align-items: center;
}

.order-item-image img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.order-item-details {
    flex: 1;
}

.order-item-name {
    font-size: 20px;
    font-weight: 700;
    color: #2d1f0f;
    margin-bottom: 10px;
}

.order-item-info {
    font-size: 15px;
    color: #3d2f1f;
    line-height: 1.7;
}

.order-total {
    padding: 20px;
    background: rgba(139, 111, 71, 0.2);
    border-radius: 10px;
    text-align: center;
    margin-top: 10px;
}

.order-total-text {
    font-size: 22px;
    font-weight: 700;
    color: #2d1f0f;
}

.order-total-number {
    color: #8b6f47;
    margin: 0 5px;
}

/* الفوتر */
.footer-container {
    margin-top: 80px;
}

.footer-container img {
    width: 100%;
    display: block;
}

/* Responsive */
@media (max-width: 1024px) {
    .checkout-layout {
        gap: 30px;
    }
}

@media (max-width: 768px) {
    .navbar {
        padding: 20px 5%;
    }

    .logo-container {
        width: 120px;
    }

    .back-btn {
        font-size: 14px;
        gap: 6px;
    }

    .back-btn svg {
        width: 20px;
        height: 20px;
    }

    .checkout-container {
        padding: 120px 5% 60px;
    }

    .page-title {
        font-size: 36px;
        margin-bottom: 40px;
        letter-spacing: 3px;
    }

    .checkout-layout {
        grid-template-columns: 1fr;
        gap: 25px;
    }

    .checkout-section {
        padding: 30px;
    }

    .section-title {
        font-size: 24px;
    }

    .submit-btn {
        font-size: 18px;
        padding: 16px 35px;
    }
}

@media (max-width: 480px) {
    .checkout-container {
        padding: 110px 5% 50px;
    }

    .page-title {
        font-size: 28px;
        letter-spacing: 2px;
    }

    .checkout-section {
        padding: 25px;
    }

    .checkout-section::before,
    .checkout-section::after {
        width: 40px;
        height: 40px;
    }

    .section-title {
        font-size: 20px;
        letter-spacing: 1.5px;
    }

    .form-group label {
        font-size: 15px;
    }

    .form-group input,
    .form-group textarea {
        padding: 12px 16px;
        font-size: 15px;
    }

    .submit-btn {
        font-size: 16px;
        padding: 14px 30px;
        letter-spacing: 2px;
    }

    .order-item {
        padding: 15px;
        gap: 12px;
    }

    .order-item-image {
        width: 70px;
        height: 70px;
    }

    .order-item-name {
        font-size: 18px;
    }

    .order-item-info {
        font-size: 14px;
    }

    .order-total-text {
        font-size: 20px;
    }
}
    </style>
</head>
<body>
    <div class="background-container"></div>

    <div class="main-content">
        <!-- النافبار -->
        <nav class="navbar">
            <a href="index.html" class="back-btn">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="#3d2f1f" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span data-ar="العودة للرئيسية" data-en="Back to Home">العودة للرئيسية</span>
            </a>
            <div class="logo-container">
                <img src="L11.png" alt="Logo">
            </div>
        </nav>

        <!-- محتوى الطلب -->
        <div class="checkout-container">
            <h1 class="page-title" data-ar="إتمام الطلب" data-en="Checkout">إتمام الطلب</h1>
            
            <div class="checkout-layout">
                <!-- معلومات العميل -->
                <div class="checkout-section">
                    <h2 class="section-title" data-ar="معلومات الشحن" data-en="Shipping Information">معلومات الشحن</h2>
                    
                    <form id="checkoutForm" class="checkout-form">
                        <div class="form-group">
                            <label data-ar="الاسم الكامل *" data-en="Full Name *">الاسم الكامل *</label>
                            <input type="text" name="fullName" required>
                        </div>

                        <div class="form-group">
                            <label data-ar="رقم الجوال *" data-en="Mobile Number *">رقم الجوال *</label>
                            <input type="tel" name="phone" required>
                        </div>

                        <div class="form-group">
                            <label data-ar="المدينة *" data-en="City *">المدينة *</label>
                            <input type="text" name="city" required>
                        </div>

                        <div class="form-group">
                            <label data-ar="العنوان بالتفصيل *" data-en="Detailed Address *">العنوان بالتفصيل *</label>
                            <textarea name="address" rows="3" required></textarea>
                        </div>

                        <div class="form-group">
                            <label data-ar="ملاحظات إضافية" data-en="Additional Notes">ملاحظات إضافية</label>
                            <textarea name="notes" rows="2"></textarea>
                        </div>

                        <button type="submit" class="submit-btn" data-ar="تأكيد الطلب" data-en="Confirm Order">تأكيد الطلب</button>
                    </form>
                </div>

                <!-- ملخص الطلب -->
                <div class="checkout-section">
                    <h2 class="section-title" data-ar="ملخص الطلب" data-en="Order Summary">ملخص الطلب</h2>
                    
                    <div class="order-summary" id="orderSummary">
                        <p class="empty-order" data-ar="السلة فارغة" data-en="Cart is empty">السلة فارغة</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- الفوتر -->
        <footer class="footer-container">
            <img src="F1.png" alt="Footer">
        </footer>
    </div>

    <script src="./checkout-script.js"></script>
</body>
    <script>
// الحصول على اللغة من URL
const urlParams = new URLSearchParams(window.location.search);
let currentLanguage = urlParams.get('lang') || localStorage.getItem('currentLanguage') || 'ar';

// تحديث اتجاه الصفحة واللغة
if (currentLanguage === 'en') {
    document.documentElement.setAttribute('dir', 'ltr');
    document.documentElement.setAttribute('lang', 'en');
} else {
    document.documentElement.setAttribute('dir', 'rtl');
    document.documentElement.setAttribute('lang', 'ar');
}

// تحديث النصوص حسب اللغة
function updateTexts(lang) {
    const elements = document.querySelectorAll('[data-ar][data-en]');
    elements.forEach(el => {
        const text = lang === 'ar' ? el.getAttribute('data-ar') : el.getAttribute('data-en');
        if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
            el.placeholder = text;
        } else {
            el.textContent = text;
        }
    });
}

// بيانات المنتجات
const products = {
    'P1': { name: { ar: 'هتان 1', en: 'HATTAN 1' }, image: 'P1.png' },
    'P2': { name: { ar: 'هتان 2', en: 'HATTAN 2' }, image: 'P2.png' },
    'P3': { name: { ar: 'غضى', en: 'GHADA' }, image: 'P3.png' },
    'P4': { name: { ar: 'بارق', en: 'BAREQ' }, image: 'P4.png' }
};

// عرض ملخص الطلب
function displayOrderSummary() {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const orderSummary = document.getElementById('orderSummary');
    
    if (cart.length === 0) {
        const emptyMsg = currentLanguage === 'ar' ? 'السلة فارغة' : 'Cart is empty';
        orderSummary.innerHTML = `<p class="empty-order">${emptyMsg}</p>`;
        return;
    }
    
    let summaryHTML = '';
    
    cart.forEach(item => {
        const sizeLabel = currentLanguage === 'ar' ? 'المقاس:' : 'Size:';
        const options = [];
        
        if (item.options && item.options.abayaLock) {
            options.push(currentLanguage === 'ar' ? 'تقفيل العباية' : 'Abaya Lock');
        }
        if (item.options && item.options.liningColor) {
            options.push(currentLanguage === 'ar' ? 'تغيير البطانة' : 'Lining Color');
        }
        if (item.options && item.options.secondaryColor) {
            options.push(currentLanguage === 'ar' ? 'اللون الثانوي' : 'Secondary Color');
        }
        
        const productImages = {
            'P1': 'P1.png',
            'P2': 'P2.png',
            'P3': 'P3.png',
            'P4': 'P4.png'
        };
        
        summaryHTML += `
            <div class="order-item">
                <div class="order-item-image">
                    <img src="${productImages[item.productId] || 'P1.png'}" alt="${item.productName}">
                </div>
                <div class="order-item-details">
                    <div class="order-item-name">${item.productName}</div>
                    <div class="order-item-info">
                        ${sizeLabel} ${item.size}
                        ${options.length > 0 ? '<br>' + options.join(' • ') : ''}
                        ${item.notes ? '<br>' + (currentLanguage === 'ar' ? 'ملاحظات: ' : 'Notes: ') + item.notes : ''}
                    </div>
                </div>
            </div>
        `;
    });
    
    const totalLabel = currentLanguage === 'ar' ? 'إجمالي المنتجات:' : 'Total Items:';
    const itemsLabel = currentLanguage === 'ar' ? 'منتج' : 'items';
    
    summaryHTML += `
        <div class="order-total">
            <span class="order-total-text">
                ${totalLabel}
                <span class="order-total-number">${cart.length}</span>
                ${itemsLabel}
            </span>
        </div>
    `;
    
    orderSummary.innerHTML = summaryHTML;
}

// معالجة النموذج
document.getElementById('checkoutForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    
    if (cart.length === 0) {
        const msg = currentLanguage === 'ar' 
            ? 'السلة فارغة!' 
            : 'Cart is empty!';
        alert(msg);
        return;
    }
    
    const formData = {
        fullName: this.fullName.value,
        phone: this.phone.value,
        city: this.city.value,
        address: this.address.value,
        notes: this.notes.value,
        items: cart,
        timestamp: new Date().toISOString()
    };
    
    // حفظ الطلب
    let orders = JSON.parse(localStorage.getItem('orders')) || [];
    orders.push(formData);
    localStorage.setItem('orders', JSON.stringify(orders));
    
    // مسح السلة
    localStorage.removeItem('cart');
    
    // رسالة نجاح
    const successMsg = currentLanguage === 'ar'
        ? 'تم استلام طلبك بنجاح! سنتواصل معك قريباً.'
        : 'Your order has been received successfully! We will contact you soon.';
    
    alert(successMsg);
    
    // العودة للصفحة الرئيسية
    window.location.href = 'index.html';
});

// تحميل الملخص وتحديث النصوص
displayOrderSummary();
updateTexts(currentLanguage);
    </script>
</body>
</html>